<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DesignFej Joias</title>
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/estoque.css">
  <script src="/js/sidebar.js"></script>
  <script src="/js/search.js"></script>
  <script src="/js/estoque.js"></script>
</head>

<body>
  <div class="overlay"></div>

  <header>
     <!--  <a href="https://www.flaticon.com/free-icons/home-button" title="home button icons">home</a> -->
    <div class="top-bar">
      <button onclick="window.location.href='login.html'" class="icon-btn">üè° Inicio</button>
      <div class="search-container">
        <input type="text" placeholder="O que voc√™ procura?">
        <i class="fas fa-search search-icon"></i>
      </div>
      <div class="icons">
        <button onclick="window.location.href='carrinho.html'" class="icon-btn">üõí Carrinho <span
            class="cart-count">0</span></button>
        <button onclick="window.location.href='wishlist.html'" class="icon-btn">üíù Lista de Desejos</button>
        <button onclick="window.location.href='cupons.html'" class="icon-btn">üé´ Cupons</button>
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
        <i class="fas fa-heart" id="favorites-icon"></i>
      </div>
    </div>
  </header>

  <nav class="categoria-nav">
    <div class="item">
      <a href="brinco.html"><img src="/img/azul-brinco.jpg" alt="Brincos" type="submit" onclick="window.location.href='brinco.html'"></a> 
      <p>Brincos</p>
    </div>
    <div class="item">
      <a href="colares.html"><img src="/img/b_colar-de-ouro-18k-veneziana-cora-o-esmeralda-ponto-de-luz-ye7s5dgnzq.webp" alt="Colares"></a>
      <p>Colares</p>
    </div>
    <div class="item">
      <a href="pingentes.html"><img src="/img/96d12afa-fcc5-42a0-8db8-1f1ac7b1aea4.png" alt="Pingentes"></a>
      <p>Pingentes</p>
    </div>
    <div class="item">
      <a href="alianca.html"><img src="/img/sheju-joias--9--xzuzae4vfi.webp" alt="Alian√ßas"></a>
      <p>Alian√ßas</p>
    </div>
  </nav>

  <main>
    <h2>Nossos Produtos</h2>
    <section class="produtos">
      <div class="produto-card" data-categoria="brincos">
        <img src="/img/ChatGPT Image 14 de jul. de 2025, 11_25_07.png" alt="Brinco de Ouro 18k">
        <div class="produto-info">
          <h3>Brinco de Ouro 18k</h3>
          <p class="produto-preco">R$ 289,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">15</span> unidades</p>
          <p>Brinco delicado em ouro amarelo 18k com detalhe em zirconia.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('1', 'Brinco de Ouro 18k', 289.90, '/img/ChatGPT Image 14 de jul. de 2025, 11_25_07.png', 'Brinco delicado em ouro amarelo')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('1', 'Brinco de Ouro 18k', 289.90, '/img/ChatGPT Image 14 de jul. de 2025, 11_25_07.png', 'Brinco delicado em ouro amarelo')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="colares">
        <img src="/img/corrente-laminado-cobra-em-prata-925-esterlina-50cm-60686536ee8df-medium.png"
          alt="Colar de Prata Sterling">
        <div class="produto-info">
          <h3>Colar de Prata Sterling</h3>
          <p class="produto-preco">R$ 189,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">8</span> unidades</p>
          <p>Colar elegante em prata sterling com pingente de cora√ß√£o.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('2', 'Colar de Prata Sterling', 189.90, '/img/corrente-laminado-cobra-em-prata-925-esterlina-50cm-60686536ee8df-medium.png', 'Colar elegante com pingente de cora√ß√£o')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('2', 'Colar de Prata Sterling', 189.90, '/img/corrente-laminado-cobra-em-prata-925-esterlina-50cm-60686536ee8df-medium.png', 'Colar elegante com pingente de cora√ß√£o')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="aneis">
        <img
          src="/img/https___lojavivara.vtexassets.com_assets_vtex.file-manager-graphql_images_148fcf84-566c-49fa-86b9-a60dac640ef6___f78756bc6ff62b3b1b3f28417cc7ca00.webp"
          alt="Anel com Diamante">
        <div class="produto-info">
          <h3>Anel com Diamante</h3>
          <p class="produto-preco">R$ 459,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">15</span> unidades</p>
          <p>Anel solit√°rio em ouro branco 18k com diamante central.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('3', 'Anel com Diamante', 459.90, '/img/https___lojavivara.vtexassets.com_assets_vtex.file-manager-graphql_images_148fcf84-566c-49fa-86b9-a60dac640ef6___f78756bc6ff62b3b1b3f28417cc7ca00.webp', 'Anel solit√°rio com diamantes')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('3', 'Anel com Diamante', 459.90, '/img/https___lojavivara.vtexassets.com_assets_vtex.file-manager-graphql_images_148fcf84-566c-49fa-86b9-a60dac640ef6___f78756bc6ff62b3b1b3f28417cc7ca00.webp', 'Anel solit√°rio com diamante central')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="pulseiras">
        <img src="/img/shopping (1).webp" alt="Pulseira de Ouro">
        <div class="produto-info">
          <h3>Pulseira de Ouro</h3>
          <p class="produto-preco">R$ 219,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">12</span> unidades</p>
          <p>Pulseira delicada em ouro amarelo 18k com fecho de seguran√ßa.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('4', 'Pulseira de Ouro', 219.90, '/img/shopping (1).webp', 'Pulseira delicada com fecho de seguran√ßa')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('4', 'Pulseira de Ouro', 219.90, '/img/shopping (1).webp', 'Pulseira delicada com fecho de seguran√ßa')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="conjuntos">
        <img src="/img/il_570xN.3908504094_jlrc.avif" alt="Conjunto Esmeralda">
        <div class="produto-info">
          <h3>Conjunto Esmeralda</h3>
          <p class="produto-preco">R$ 689,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">5</span> unidades</p>
          <p>Conjunto completo com brincos e colar com pedras esmeralda.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('5', 'Conjunto Esmeralda', 689.90, '/img/il_570xN.3908504094_jlrc.avif', 'Conjunto completo com pedras esmeralda')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('5', 'Conjunto Esmeralda', 689.90, '/img/il_570xN.3908504094_jlrc.avif', 'Conjunto completo com pedras esmeralda')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="aneis">
        <img src="/img/sg-11134201-7rep2-m8enmdetakdl86.jpg" alt="Alian√ßa de Casamento">
        <div class="produto-info">
          <h3>Alian√ßa de Casamento</h3>
          <p class="produto-preco">R$ 359,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">20</span> unidades</p>
          <p>Alian√ßa em ouro 18k com acabamento brilhante e comfort fit.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('6', 'Alian√ßa de Casamento', 359.90, '/img/sg-11134201-7rep2-m8enmdetakdl86.jpg', 'Alian√ßa em ouro com acabamento brilhante')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('6', 'Alian√ßa de Casamento', 359.90, '/img/sg-11134201-7rep2-m8enmdetakdl86.jpg', 'Alian√ßa em ouro com acabamento brilhante')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="colares">
        <img src="/img/b_colar-de-ouro-18k-veneziana-cora-o-esmeralda-ponto-de-luz-ye7s5dgnzq.webp" alt="Corrente de Ouro 18k">
        <div class="produto-info">
          <h3>Corrente de Ouro 18k</h3>
          <p class="produto-preco">R$ 459,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">7</span> unidades</p>
          <p>Corrente elegante em ouro amarelo 18k com elos entrela√ßados e fecho de seguran√ßa.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('7', 'Corrente de Ouro 18k', 459.90, '/img/b_colar-de-ouro-18k-veneziana-cora-o-esmeralda-ponto-de-luz-ye7s5dgnzq.webp', 'Corrente elegante em ouro amarelo 18k')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('7', 'Corrente de Ouro 18k', 459.90, '/img/b_colar-de-ouro-18k-veneziana-cora-o-esmeralda-ponto-de-luz-ye7s5dgnzq.webp', 'Corrente elegante em ouro amarelo 18k')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="brincos">
        <img src="/img/12_1_5_530_brinco20rubi20e20diamantes1.webp" alt="Brinco com Rubi">
        <div class="produto-info">
          <h3>Brinco com Rubi</h3>
          <p class="produto-preco">R$ 389,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">4</span> unidades</p>
          <p>Brinco em ouro 18k com rubi central lapidado e detalhes em zirconia branca.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('8', 'Brinco com Rubi', 389.90, '/img/12_1_5_530_brinco20rubi20e20diamantes1.webp', 'Brinco em ouro 18k com rubi central')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('8', 'Brinco com Rubi', 389.90, '/img/12_1_5_530_brinco20rubi20e20diamantes1.webp', 'Brinco em ouro 18k com rubi central')">Lista de Desejos</button>
          </div>
        </div>
      </div>

      <div class="produto-card" data-categoria="pingentes">
        <img src="/img/pingente-com-pedra-aqua-azul-para-colar-masculino-639286.jpg" alt="Pingente Aqua">
        <div class="produto-info">
          <h3>Pingente Aqua</h3>
          <p class="produto-preco">R$ 159,90</p>
          <p class="produto-estoque">üì¶ Estoque: <span class="estoque-quantidade">10</span> unidades</p>
          <p>Pingente masculino com pedra aqua azul em prata 925.</p>
          <div class="produto-actions">
            <button class="btn-carrinho"
              onclick="addToCart('9', 'Pingente Aqua', 159.90, '/img/pingente-com-pedra-aqua-azul-para-colar-masculino-639286.jpg', 'Pingente masculino com pedra aqua')">Carrinho</button>
            <button class="btn-wishlist"
              onclick="addToWishlist('9', 'Pingente Aqua', 159.90, '/img/pingente-com-pedra-aqua-azul-para-colar-masculino-639286.jpg', 'Pingente masculino com pedra aqua')">Lista de Desejos</button>
          </div>
        </div>
      </div>
    </div>
   


    </section>
  </main>

  <!-- Nova Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span class="close-sidebar" onclick="toggleSidebar()">&times;</span>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="perfil.html">Perfil do usu√°rio</a></li>
        <li><a href="./meusPedidos.html">Meus Pedidos</a></li>
        <li><a href="avaliacoes.html">Avalia√ß√µes</a></li>
        <li class="shop-menu">
          <div class="shop-header" onclick="toggleShopMenu()">
            <span>SHOP</span>
            <span class="shop-icon">+</span>
          </div>
          <ul class="shop-submenu" id="shop-submenu">
            <li><a href="index.html">SHOP TODOS OS PRODUTOS</a></li>
            <li><a href="brinco.html">BRINCOS</a></li>
            <li><a href="colares.html">COLARES</a></li>
            <li><a href="#">PULSEIRAS</a></li>
            <li><a href="#">AN√âIS</a></li>
            <li><a href="pingentes.html">PINGENTES</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Painel de Favoritos -->
  <div class="panel" id="favorites-panel">
    <div class="panel-header">
      <h2>Meus Favoritos</h2>
      <i class="fas fa-times panel-close" onclick="toggleFavorites()"></i>
    </div>
    <ul id="favorites-items"></ul>
    <div class="panel-actions">
      <button class="panel-btn btn-remover" onclick="removeFavoriteSelected()">Remover Selecionados</button>
    </div>
  </div>

  <footer>
    <p>DesignFej Joias - Sua joalheria de confian√ßa</p>
    <p>@designfejjoia</p>
  </footer>

  <script>
    // Fun√ß√µes para a sidebar
    document.addEventListener('DOMContentLoaded', function () {
      const menuIcon = document.querySelector('.menu-icon');
      const overlay = document.querySelector('.overlay');
      const favoritesIcon = document.getElementById('favorites-icon');

      // Abrir sidebar
      menuIcon.addEventListener('click', function () {
        toggleSidebar();
      });

      // Fechar sidebar clicando no overlay
      overlay.addEventListener('click', function() {
        closeSidebar();
      });

      // Abrir/fechar favoritos
      favoritesIcon.addEventListener('click', function () {
        toggleFavorites();
      });

      // Inicializar contador do carrinho
      updateCartCount();
    });

    // Fun√ß√µes da sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      if (sidebar.classList.contains('open')) {
        closeSidebar();
      } else {
        sidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Fun√ß√£o para o menu SHOP expans√≠vel
    function toggleShopMenu() {
      const submenu = document.getElementById('shop-submenu');
      const icon = document.querySelector('.shop-icon');
      
      if (submenu.style.display === 'block') {
        submenu.style.display = 'none';
        icon.textContent = '+';
      } else {
        submenu.style.display = 'block';
        icon.textContent = '-';
      }
    }

    function addToCart(productId, productName, productPrice, productImage, productDetails) {
      // Recuperar carrinho atual ou inicializar vazio
      const cartItems = JSON.parse(localStorage.getItem('designfej_cart')) || [];

      // Verificar se o produto j√° est√° no carrinho
      const existingItemIndex = cartItems.findIndex(item => item.id === productId);

      if (existingItemIndex >= 0) {
        // Se j√° existe, aumentar a quantidade
        cartItems[existingItemIndex].quantity += 1;
      } else {
        // Se n√£o existe, adicionar novo item
        cartItems.push({
          id: productId,
          name: productName,
          price: productPrice,
          image: productImage,
          details: productDetails,
          quantity: 1
        });
      }

      // Salvar no localStorage
      localStorage.setItem('designfej_cart', JSON.stringify(cartItems));

      // Atualizar contador
      updateCartCount();

      // Feedback para o usu√°rio e redirecionamento
      if (confirm(`${productName} adicionado ao carrinho! Deseja ir para o carrinho agora?`)) {
        window.location.href = 'carrinho.html';
      }
    }


    
    // Fun√ß√£o para adicionar √† wishlist
    function addToWishlist(productId, productName, productPrice, productImage, productDetails) {
      const wishlistItems = JSON.parse(localStorage.getItem('designfej_wishlist')) || [];
      
      // Verificar se o produto j√° est√° na wishlist
      const existingItem = wishlistItems.find(item => item.id === productId);
      
      if (existingItem) {
        alert(`${productName} j√° est√° na sua lista de desejos!`);
        return;
      }
      
      // Adicionar novo produto
      wishlistItems.push({
        id: productId,
        name: productName,
        price: productPrice,
        image: productImage,
        details: productDetails
      });
      
      // Salvar no localStorage
      localStorage.setItem('designfej_wishlist', JSON.stringify(wishlistItems));
      
      if (confirm(`${productName} adicionado √† wishlist! Deseja ver sua lista de desejos?`)) {
        window.location.href = 'wishlist.html';
      }
    }

    // Atualizar contador de itens no carrinho
    function updateCartCount() {
      const cartItems = JSON.parse(localStorage.getItem('designfej_cart')) || [];
      const cartCountElement = document.querySelector('.cart-count');
      if (cartCountElement) {
        cartCountElement.textContent = cartItems.length;
      }
    }

    // Alternar visibilidade do painel de favoritos
    function toggleFavorites() {
      const panel = document.getElementById("favorites-panel");
      const overlay = document.querySelector('.overlay');

      if (panel.classList.contains('open')) {
        panel.classList.remove('open');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      } else {
        // Fechar menu lateral se estiver aberto
        document.querySelector('.menu-lateral').classList.remove('open');

        // Carregar favoritos
        renderFavorites();

        panel.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    // Renderizar itens favoritos
    function renderFavorites() {
      const list = document.getElementById("favorites-items");
      const favorites = JSON.parse(localStorage.getItem('designfej_favorites')) || [];

      if (!list) return;

      list.innerHTML = "";

      if (favorites.length === 0) {
        list.innerHTML = "<li class='empty-message'>Voc√™ n√£o tem favoritos</li>";
        return;
      }

      favorites.forEach((item, index) => {
        const li = document.createElement("li");
        li.className = "favorite-item";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.className = "item-checkbox";
        checkbox.dataset.index = index;

        const infoDiv = document.createElement("div");
        infoDiv.className = "item-info";
        infoDiv.innerHTML = `<strong>${item.name}</strong><br><small>${item.details}</small>`;

        const excluirBtn = document.createElement("button");
        excluirBtn.className = "excluir-btn";
        excluirBtn.innerHTML = 'Excluir';
        excluirBtn.onclick = () => {
          if (checkbox.checked) {
            favorites.splice(index, 1);
            localStorage.setItem('designfej_favorites', JSON.stringify(favorites));
            renderFavorites();
          } else {
            alert("Marque a caixinha para excluir este favorito.");
          }
        };

        li.appendChild(checkbox);
        li.appendChild(infoDiv);
        li.appendChild(excluirBtn);

        list.appendChild(li);
      });
    }

    // Remover itens selecionados dos favoritos
    function removeFavoriteSelected() {
      const favorites = JSON.parse(localStorage.getItem('designfej_favorites')) || [];
      const checkboxes = document.querySelectorAll('#favorites-items input[type="checkbox"]');
      const indexesToRemove = [];

      checkboxes.forEach((checkbox) => {
        if (checkbox.checked) {
          indexesToRemove.push(parseInt(checkbox.dataset.index));
        }
      });

      if (indexesToRemove.length === 0) {
        alert("Selecione pelo menos um item para remover.");
        return;
      }

      indexesToRemove.sort((a, b) => b - a).forEach(i => favorites.splice(i, 1));

      localStorage.setItem('designfej_favorites', JSON.stringify(favorites));
      renderFavorites();
    }

    // Fun√ß√£o para filtrar produtos por categoria
    function filtrarProdutos(categoria) {
      const produtos = document.querySelectorAll('.produto-card');
      
      produtos.forEach(produto => {
        if (categoria === 'todos') {
          produto.style.display = 'block';
        } else {
          const produtoCategoria = produto.getAttribute('data-categoria');
          if (produtoCategoria === categoria) {
            produto.style.display = 'block';
          } else {
            produto.style.display = 'none';
          }
        }
      });
      
      // Fechar sidebar ap√≥s filtrar
      closeSidebar();
    }

    // Fun√ß√£o para buscar produtos por nome
    function buscarProdutos(termo) {
      const produtos = document.querySelectorAll('.produto-card');
      
      produtos.forEach(produto => {
        const nome = produto.querySelector('h3').textContent.toLowerCase();
        const descricao = produto.querySelector('p').textContent.toLowerCase();
        
        if (nome.includes(termo) || descricao.includes(termo)) {
          produto.style.display = 'block';
        } else {
          produto.style.display = 'none';
        }
      });
    }

    // Configura√ß√£o da busca
    const searchInput = document.querySelector('.search-container input');
    const searchIcon = document.querySelector('.search-icon');

    if (searchIcon && searchInput) {
      function performSearch() {
        const searchTerm = searchInput.value.trim().toLowerCase();
        if (searchTerm) {
          buscarProdutos(searchTerm);
        } else {
          filtrarProdutos('todos');
        }
      }

      searchIcon.addEventListener('click', performSearch);
      searchInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
          performSearch();
        }
      });
      
      searchInput.addEventListener('input', performSearch);
    }


  </script>

</body>

</html>