<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cupons de Desconto - DesignFej</title>
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/cupons.css">
  <script src="/js/sidebar.js"></script>
  <script src="/js/cupons.js"></script>
</head>

<body>
  <div class="overlay"></div>

  <header>
    <div class="top-bar">
      <button onclick="window.location.href='index.html'" class="icon-btn">üè° Inicio</button>
      <div class="icons">
        <button onclick="window.location.href='carrinho.html'" class="icon-btn">üõí Carrinho <span class="cart-count">0</span></button>
        <button onclick="window.location.href='wishlist.html'" class="icon-btn">üíù Lista de Desejos</button>
        <button onclick="window.location.href='cupons.html'" class="icon-btn">üé´ Cupons</button>
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
        <i class="fas fa-heart" id="favorites-icon"></i>
      </div>
    </div>
  </header>

  <main>
    <section class="cupons-section">
      <h2>Cupons Dispon√≠veis</h2>
      <div id="cupons-lista"></div>
    </section>

    <section class="validar-cupom">
      <h3>Validar Cupom</h3>
      <div class="cupom-form">
        <input type="text" id="codigo-cupom" placeholder="Digite o c√≥digo do cupom" maxlength="50" autocomplete="off" spellcheck="false">
        <button onclick="cuponsController.validarCupom()">Validar</button>
      </div>
      <div id="resultado-validacao"></div>
    </section>
  </main>

  <!-- Nova Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span class="close-sidebar" onclick="toggleSidebar()">&times;</span>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="perfil.html">Perfil do usu√°rio</a></li>
        <li><a href="avaliacoes.html">Avalia√ß√µes</a></li>
        <li class="shop-menu">
          <div class="shop-header" onclick="toggleShopMenu()">
            <span>SHOP</span>
            <span class="shop-icon">+</span>
          </div>
          <ul class="shop-submenu" id="shop-submenu">
            <li><a href="index.html">SHOP TODOS OS PRODUTOS</a></li>
            <li><a href="brinco.html">BRINCOS</a></li>
            <li><a href="colares.html">COLARES</a></li>
            <li><a href="alianca.html">ALIAN√áAS</a></li>
            <li><a href="pingentes.html">PINGENTES</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

  <footer>
    <p>DesignFej Joias - Sua joalheria de confian√ßa</p>
    <p>@designfejjoia</p>
  </footer>

  <script>
    // Fun√ß√µes da sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      if (sidebar.classList.contains('open')) {
        closeSidebar();
      } else {
        sidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }

    function toggleShopMenu() {
      const submenu = document.getElementById('shop-submenu');
      const icon = document.querySelector('.shop-icon');
      
      if (submenu.style.display === 'block') {
        submenu.style.display = 'none';
        icon.textContent = '+';
      } else {
        submenu.style.display = 'block';
        icon.textContent = '-';
      }
    }

    function updateCartCount() {
      const cartItems = JSON.parse(localStorage.getItem('designfej_cart')) || [];
      const cartCountElement = document.querySelector('.cart-count');
      if (cartCountElement) {
        cartCountElement.textContent = cartItems.length;
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      const overlay = document.querySelector('.overlay');
      overlay.addEventListener('click', function() {
        closeSidebar();
      });
      updateCartCount();
    });
  </script>

</body>

</html>