<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cupons de Desconto - DesignFej</title>
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/cupons.css">
  <script src="/js/sidebar.js"></script>
<<<<<<< HEAD
  <script src="/js/cupons.js"></script>
=======
>>>>>>> edb44139fc1678797acca79fc165df932d43a4c2
</head>

<body>
  <div class="overlay"></div>

  <header>
    <div class="top-bar">
      <button onclick="window.location.href='index.html'" class="icon-btn">üè° Inicio</button>
      <div class="icons">
        <button onclick="window.location.href='carrinho.html'" class="icon-btn">üõí Carrinho <span class="cart-count">0</span></button>
        <button onclick="window.location.href='wishlist.html'" class="icon-btn">üíù Lista de Desejos</button>
        <button onclick="window.location.href='cupons.html'" class="icon-btn">üé´ Cupons</button>
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
        <i class="fas fa-heart" id="favorites-icon"></i>
      </div>
    </div>
  </header>

  <main>
    <section class="cupons-section">
      <h2>Cupons Dispon√≠veis</h2>
      <div id="cupons-lista"></div>
    </section>

    <section class="validar-cupom">
      <h3>Validar Cupom</h3>
      <div class="cupom-form">
        <input type="text" id="codigo-cupom" placeholder="Digite o c√≥digo do cupom" maxlength="50" autocomplete="off" spellcheck="false">
<<<<<<< HEAD
        <button onclick="cuponsController.validarCupom()">Validar</button>
=======
        <button onclick="validarCupom()">Validar</button>
>>>>>>> edb44139fc1678797acca79fc165df932d43a4c2
      </div>
      <div id="resultado-validacao"></div>
    </section>
  </main>

  <!-- Nova Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span class="close-sidebar" onclick="toggleSidebar()">&times;</span>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="perfil.html">Perfil do usu√°rio</a></li>
        <li><a href="avaliacoes.html">Avalia√ß√µes</a></li>
        <li class="shop-menu">
          <div class="shop-header" onclick="toggleShopMenu()">
            <span>SHOP</span>
            <span class="shop-icon">+</span>
          </div>
          <ul class="shop-submenu" id="shop-submenu">
            <li><a href="index.html">SHOP TODOS OS PRODUTOS</a></li>
            <li><a href="brinco.html">BRINCOS</a></li>
            <li><a href="colares.html">COLARES</a></li>
            <li><a href="alianca.html">ALIAN√áAS</a></li>
            <li><a href="pingentes.html">PINGENTES</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

  <footer>
    <p>DesignFej Joias - Sua joalheria de confian√ßa</p>
    <p>@designfejjoia</p>
  </footer>

  <script>
    // Fun√ß√µes da sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      if (sidebar.classList.contains('open')) {
        closeSidebar();
      } else {
        sidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }

    function toggleShopMenu() {
      const submenu = document.getElementById('shop-submenu');
      const icon = document.querySelector('.shop-icon');
      
      if (submenu.style.display === 'block') {
        submenu.style.display = 'none';
        icon.textContent = '+';
      } else {
        submenu.style.display = 'block';
        icon.textContent = '-';
      }
    }

    function updateCartCount() {
      const cartItems = JSON.parse(localStorage.getItem('designfej_cart')) || [];
      const cartCountElement = document.querySelector('.cart-count');
      if (cartCountElement) {
        cartCountElement.textContent = cartItems.length;
      }
    }

<<<<<<< HEAD
=======
    // Carregar cupons dispon√≠veis
    function carregarCupons() {
      const cupons = [
        { codigo: 'DESCONTO10', tipo: 'fixo', valor: 10, data_fim: '2025-12-31' },
        { codigo: 'FRETE20', tipo: 'fixo', valor: 20, data_fim: '2026-01-30' },
        { codigo: 'PRIMEIRA15', tipo: 'percentual', valor: 15, data_fim: '2025-11-15' },
        { codigo: 'GLEISON60', tipo: 'percentual', valor: 60, data_fim: '2025-11-31' },
        { codigo: 'EXPIRADO50', tipo: 'percentual', valor: 50, data_fim: '2024-12-31', status: 'EXPIRADO' },
        { codigo: 'INVALIDO25', tipo: 'percentual', valor: 25, data_fim: '2025-06-30', status: 'INV√ÅLIDO' }
      ];
      
      const lista = document.getElementById('cupons-lista');
      lista.innerHTML = cupons.map(cupom => `
        <div class="cupom-card ${cupom.status ? 'cupom-invalido' : ''}">
          <h4>${cupom.codigo} ${cupom.status ? '(' + cupom.status + ')' : ''}</h4>
          <p>Tipo: ${cupom.tipo}</p>
          <p>Valor: ${cupom.tipo === 'percentual' ? cupom.valor + '%' : 'R$ ' + cupom.valor}</p>
          <p>V√°lido at√©: ${new Date(cupom.data_fim).toLocaleDateString()}</p>
          <button onclick="copiarCodigo('${cupom.codigo}')" ${cupom.status ? 'disabled' : ''}>Copiar C√≥digo</button>
        </div>
      `).join('');
    }

    // Validar cupom
    function validarCupom() {
      const codigo = document.getElementById('codigo-cupom').value;
      if (!codigo) return;

      const cuponsValidos = ['DESCONTO10', 'FRETE20', 'PRIMEIRA15', 'GLEISON60'];
      const div = document.getElementById('resultado-validacao');
      
      if (cuponsValidos.includes(codigo.toUpperCase())) {
        div.innerHTML = `<p style="color: green;">‚úÖ Cupom v√°lido!</p>`;
      } else {
        div.innerHTML = `<p style="color: red;">‚ùå Cupom inv√°lido ou expirado</p>`;
      }
    }

    function copiarCodigo(codigo) {
      navigator.clipboard.writeText(codigo);
      alert('C√≥digo copiado: ' + codigo);
    }

>>>>>>> edb44139fc1678797acca79fc165df932d43a4c2
    document.addEventListener('DOMContentLoaded', function () {
      const overlay = document.querySelector('.overlay');
      overlay.addEventListener('click', function() {
        closeSidebar();
      });
      updateCartCount();
<<<<<<< HEAD
=======
      carregarCupons();
>>>>>>> edb44139fc1678797acca79fc165df932d43a4c2
    });
  </script>

</body>

</html>